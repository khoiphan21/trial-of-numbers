<div
  class="container"
  *ngIf="{
    lobbySession: lobbySession$ | async,
    players: players$ | async
  } as context"
>
  @if (context.lobbySession && context.players) { @if
  (context.lobbySession.gameState === 'waiting') {
  <h1>Lobby</h1>
  <app-lobby-in-waiting
    [lobby]="context.lobbySession"
    [players]="context.players"
    [currentPlayerId]="currentPlayerId"
    [isHost]="isHost"
  />
  } @else {
  <app-game-in-progress [lobby]="context.lobbySession" />
  } } @else {
  <div class="loading">Loading lobby...</div>
  }
</div>
